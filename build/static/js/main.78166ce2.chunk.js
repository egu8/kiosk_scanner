(this.webpackJsonpkiosk_scanner=this.webpackJsonpkiosk_scanner||[]).push([[0],{100:function(e,t,n){},198:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),c=n(92),r=n.n(c),s=(n(100),n(12)),o=n(5),d=n(18),l=n(6),h=n(7),j=n(25),p=n(9),u=n(8),b=n(31),x=n.n(b),f=n(45),O=n(102),m=0;function g(e){return y.apply(this,arguments)}function y(){return(y=Object(f.a)(x.a.mark((function e(t){var n,i,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n={frame0:"",frame1:"",frame2:"",frame3:"",frame4:"",frame5:"",frame6:"",frame7:"",frame8:"",frame9:"",frame10:"",frame11:"",frame12:"",frame13:"",frame14:"",frame15:""},i=t.length-16,a=0;a<t.length;a++)n["frame"+a]=t[a+i];return JSON.stringify(n),e.abrupt("return",O.post("http://127.0.0.1:8000/process_frames",n).then((function(e){return JSON.parse(e.data)[0]})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){if(10==m){var t={img:""};t.img=e[e.length-1];JSON.stringify(t);return m=0,O.post("http://127.0.0.1:8000/barcode",t).then((function(e){var t=JSON.parse(e.data);t.item_name,t.price;return console.log(t),t}))}return m+=1,new Promise((function(e,t){e(null)}))}n(121);var C=n(0),k=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).streamCamVideo=i.streamCamVideo.bind(Object(j.a)(i)),i.state={latest_action:"No_gesture",list_of_items:[]},i.streamCamVideo(),i}return Object(h.a)(n,[{key:"streamCamVideo",value:function(){var e=Object(f.a)(x.a.mark((function e(){var t,n=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={audio:!0,video:{width:720,height:720}},e.next=3,navigator.mediaDevices.getUserMedia(t).then((function(e){var t=document.querySelector("video"),i=[];function a(){var e=document.querySelector("video"),t=document.querySelector("#videoCanvas1"),n=t.getContext("2d"),c=document.querySelector("#videoCanvas2"),r=c.getContext("2d");t.width=e.videoWidth,t.height=e.videoHeight,c.width=.3*e.videoWidth,c.height=.3*e.videoHeight;var s=c.width,o=c.height,l=t.width/2-s/2,h=t.height/2-o/2;n.drawImage(e,0,0,t.width,t.height),r.drawImage(e,l,h,s,o,0,0,c.width,c.height),i=[].concat(Object(d.a)(i),[c.toDataURL()]),n.rect(l,h,s,o),n.lineWidth="6",n.strokeStyle="red",n.stroke(),r.rect(1,1,1,1),r.lineWidth="1",r.strokeStyle="black",r.stroke(),setTimeout(a,1)}t.onplay=function(){setTimeout(a,1)},t.srcObject=e,t.ontimeupdate=function(){i.length>=16&&(g(i).then((function(e){console.log(e),n.props.handleAction(e)})).catch((function(e){console.log(e)})),v(i).then((function(e){e&&n.props.handleItems(e)})).catch((function(e){console.log(e)})),i=[])}})).catch((function(e){console.log(e.name+": "+e.message)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{id:"container",children:[Object(C.jsx)("video",{style:{width:1},muted:!0,autoPlay:!0,id:"videoElement"}),Object(C.jsx)("canvas",{id:"videoCanvas1"}),Object(C.jsx)("canvas",{style:{width:1},id:"videoCanvas2"})]}),Object(C.jsx)("br",{})]})}}]),n}(a.a.Component),_=k,w=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(C.jsx)(s.b,{to:"/help",children:Object(C.jsx)("button",{style:{backgroundColor:"gray",color:"white",fontSize:"20px",paddingTop:"12px",paddingBottom:"12px",paddingRight:"60px",paddingLeft:"60px",borderRadius:"5px",marginTop:"10px",marginBottom:"10px",cursor:"pointer",fontFamily:"sans-serif",width:"300px"},children:"Request Assistance"})})}}]),n}(a.a.Component),S=w,I=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(C.jsx)(s.b,{to:"/pay1card",children:Object(C.jsx)("button",{style:{backgroundColor:"DodgerBlue",color:"white",fontSize:"20px",paddingTop:"12px",paddingBottom:"12px",paddingRight:"60px",paddingLeft:"60px",borderRadius:"5px",marginTop:"10px",marginBottom:"10px",cursor:"pointer",fontFamily:"sans-serif",width:"300px"},children:"Credit or Debit"})})}}]),n}(a.a.Component),A=I,B=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(C.jsx)(s.b,{to:"/pay2cash",children:Object(C.jsx)("button",{style:{backgroundColor:"DodgerBlue",color:"white",fontSize:"20px",paddingTop:"12px",paddingBottom:"12px",paddingRight:"60px",paddingLeft:"60px",borderRadius:"5px",marginTop:"10px",marginBottom:"10px",cursor:"pointer",fontFamily:"sans-serif",width:"300px"},children:"Cash"})})}}]),n}(a.a.Component),T=B,R=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).state={activeState:!1},i.handleClick=i.handleClick.bind(Object(j.a)(i)),i}return Object(h.a)(n,[{key:"handleClick",value:function(){this.setState((function(e){return{activeState:!e.activeState}}))}},{key:"render",value:function(){return Object(C.jsx)(s.b,{to:"/checkout",children:Object(C.jsx)("button",{onClick:this.handleClick,style:{backgroundColor:"green",color:"white",fontSize:"20px",paddingTop:"12px",paddingBottom:"12px",paddingRight:"60px",paddingLeft:"60px",borderRadius:"5px",marginTop:"10px",marginBottom:"10px",cursor:"pointer",fontFamily:"sans-serif",width:"300px"},children:this.state.activeState?"Cancel Checkout":"Begin Checkout"})})}}]),n}(a.a.Component),N=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).handleAction=i.handleAction.bind(Object(j.a)(i)),i.handleItems=i.handleItems.bind(Object(j.a)(i)),i.state={latest_action:"No_gesture",list_of_items:[]},i}return Object(h.a)(n,[{key:"handleAction",value:function(e){var t=e[0],n=e[1],i=this.props.history.push;"Swiping_Left"==t&&n>.15?i("/checkout"):"Swiping_Up"==t&&n>.25?i("/pay1card"):"Swiping_Down"==t&&n>.25?i("/pay2cash"):"Stop_Sign"==t&&n>.75&&i("/help"),this.setState({latest_action:t})}},{key:"handleItems",value:function(e){console.log(e);var t=e.item_name,n=e.price;"n/a"!==t&&this.setState({list_of_items:[].concat(Object(d.a)(this.list_of_items),[[t,n]])})}},{key:"render",value:function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(C.jsx)("h1",{children:"gestureA to begin checkout or scan item"})}),Object(C.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(C.jsx)("div",{style:{paddingRight:"0px"},children:Object(C.jsx)(_,{handleAction:this.handleAction,handleItems:this.handleItems})}),Object(C.jsxs)("div",{style:{alignItems:"center",width:"100%"},children:[Object(C.jsx)("div",{style:{padding:"8px 15px 0px"},children:Object(C.jsx)(S,{})}),Object(C.jsx)("div",{style:{padding:"0px 15px"},children:Object(C.jsx)(R,{})})]})]})]})}}]),n}(a.a.Component),F=Object(o.e)(N),L=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(C.jsxs)("div",{className:"help page",children:[Object(C.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(C.jsx)("h1",{children:"Please Wait for Assistance"})}),Object(C.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(C.jsx)("h2",{children:"Attendant is coming"})})]})}}]),n}(a.a.Component),P=L,D=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{className:"card pay page",children:Object(C.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(C.jsx)("h1",{children:"Please follow instructions on pinpad to complete transaction"})})})}}]),n}(a.a.Component),W=D,J=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(C.jsxs)("div",{className:"cash pay page",children:[Object(C.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(C.jsx)("h1",{children:"Cash Payment Selected"})}),Object(C.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(C.jsx)("h2",{children:"Please Wait for Assistance"})}),Object(C.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(C.jsx)("h2",{children:"Attendant is coming"})})]})}}]),n}(a.a.Component),q=J,z=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(C.jsx)(s.b,{to:"/",children:Object(C.jsx)("button",{style:{backgroundColor:"red",color:"white",fontSize:"20px",paddingTop:"12px",paddingBottom:"12px",paddingRight:"60px",paddingLeft:"60px",borderRadius:"5px",marginTop:"10px",marginBottom:"10px",cursor:"pointer",fontFamily:"sans-serif",width:"300px"},children:"Cancel Checkout"})})}}]),n}(a.a.Component),U=z,V=n(221),E=n(224),H=n(218),M=n(219),Q=n(222),G=n(223),K=n(220),X=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(h.a)(n,[{key:"render",value:function(){return Object(C.jsx)(M.a,{component:K.a,children:Object(C.jsxs)(V.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(C.jsx)(Q.a,{children:Object(C.jsxs)(G.a,{children:[Object(C.jsx)(H.a,{children:"Name "}),Object(C.jsx)(H.a,{align:"right",children:"Quantitiy"}),Object(C.jsx)(H.a,{align:"right",children:"Price"})]})}),Object(C.jsx)(E.a,{children:this.props.list_of_items.map((function(e){return Object(C.jsxs)(G.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(C.jsx)(H.a,{component:"th",scope:"row",children:e.name}),Object(C.jsx)(H.a,{align:"right",children:"1"}),Object(C.jsx)(H.a,{align:"right",children:e.price})]},e.name)}))})]})})}}]),n}(i.Component),Y=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).handleAction=i.handleAction.bind(Object(j.a)(i)),i.handleItems=i.handleItems.bind(Object(j.a)(i)),i.state={latest_action:"No_gesture",list_of_items:[]},i}return Object(h.a)(n,[{key:"handleAction",value:function(e){var t=e[0],n=e[1],i=this.props.history.push;"Swiping_Left"==t&&n>.15?i("/checkout"):"Swiping_Up"==t&&n>.25?i("/pay1card"):"Swiping_Down"==t&&n>.25?i("/pay2cash"):"Stop_Sign"==t&&n>.75?i("/help"):"Pushing_Two_Fingers_Away"==t&&n>.25&&i("/"),this.setState({latest_action:t})}},{key:"handleItems",value:function(e){var t=e.item_name,n=e.price;console.log(t),console.log(n),"n/a"!==t&&(this.setState({list_of_items:[].concat(Object(d.a)(this.state.list_of_items),[{name:t,price:n}])}),console.log(this.state.list_of_items))}},{key:"render",value:function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)("h1",{style:{display:"flex",justifyContent:"center"},children:"Scan item or gestureB to finish"}),Object(C.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(C.jsx)("div",{style:{paddingRight:"0px"},children:Object(C.jsx)(_,{handleAction:this.handleAction,handleItems:this.handleItems})}),Object(C.jsxs)("div",{style:{alignItems:"center",width:"100%"},children:[Object(C.jsxs)("div",{style:{display:"flex"},children:[Object(C.jsx)("div",{style:{padding:"8px 15px 0px"},children:Object(C.jsx)(S,{})}),Object(C.jsx)("div",{style:{padding:"8px 15px 0px"},children:Object(C.jsx)(A,{})})]}),Object(C.jsxs)("div",{style:{display:"flex"},children:[Object(C.jsx)("div",{style:{padding:"0px 15px"},children:Object(C.jsx)(U,{})}),Object(C.jsx)("div",{style:{padding:"0px 15px"},children:Object(C.jsx)(T,{})})]}),Object(C.jsx)("div",{style:{padding:"0px 15px"},children:Object(C.jsx)(X,{list_of_items:this.state.list_of_items})})]})]})]})}}]),n}(a.a.Component),Z=Object(o.e)(Y);var $=function(){return Object(C.jsx)(s.a,{children:Object(C.jsxs)("div",{className:"page content",children:[Object(C.jsx)(o.a,{exact:!0,path:"/",children:Object(C.jsx)(F,{})}),Object(C.jsx)(o.a,{path:"/help",children:Object(C.jsx)(P,{})}),Object(C.jsx)(o.a,{path:"/pay1card",children:Object(C.jsx)(W,{})}),Object(C.jsx)(o.a,{path:"/pay2cash",children:Object(C.jsx)(q,{})}),Object(C.jsx)(o.a,{path:"/checkout",children:Object(C.jsx)(Z,{})})]})})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,225)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),c(e),r(e)}))};r.a.render(Object(C.jsx)(s.a,{children:Object(C.jsx)($,{})}),document.getElementById("root")),ee()}},[[198,1,2]]]);
//# sourceMappingURL=main.78166ce2.chunk.js.map